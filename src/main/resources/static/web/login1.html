<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <!--edge浏览器H5兼容设置-->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!--360浏览器H5兼容设置-->
    <meta name="renderer" content="webkit" />
    <title>登录页面</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!--导入核心文件-->
    <script src="../bootstrap3/js/holder.js"></script>
    <link href="../bootstrap3/css/bootstrap.css" rel="stylesheet" type="text/css">
    <script src="../bootstrap3/jquery-1.9.1.min.js"></script>
    <script src="../bootstrap3/js/bootstrap.js"></script>
</head>
<body>
<div id="user_reg">用户登录</div>
<form id="form-login" method="post" name="form">
    <table>
        <tr>
            账号：<input type="text" id="username" name="username" placeholder="请输入用户名"/></td>
        </tr>
        <tr>
            密码：<input type="password" id="password" name="password" placeholder="请输入密码"/></td>
        </tr>
        <tr>
            <input type="submit" id="btn-login" value="登录"/>
        </tr>
    </table>
</form>
</body>
<script type="text/javascript">
    $("#btn-login").click(function () {
        $.ajax({
            url: "/users/login",
            type: "POST",
            data: $("#form-login").serialize(),
            dataType: "JSON",
            success: function (json) {
                if (json.state == 200) {
                    alert("登录成功");
                    //跳转到系统首页
                    location.href = "index.html";
                } else {
                    alert("登录失败");
                }
            },
            error:function (xhr) {
                alert("注册时产生未知的错误！"+xhr.status)
            }
        });
    });
</script>
</html>